process DQMOnlineSimData = {

  #-------------------------------------------------
  # Messages
  #-------------------------------------------------

   service = MessageLogger {
	untracked vstring destinations = { "debug.txt" }
	untracked PSet debug.txt = { untracked string threshold = "DEBUG"    }
	untracked vstring debugModules    = { "ctfWithMaterialTracks", "SiStripMonitorTrack" }
    }
  
    #-------------------------------------------------
    # Magnetic Field
    #-------------------------------------------------
    
    include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"
    
    #-------------------------------------------------
    # Geometry
    #-------------------------------------------------
    
    # tracker geometry with (mis)alignment
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
    #replace TrackerDigiGeometryESModule.applyAlignment = true   
    
    # tracker numbering
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    
    # cms geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    #-------------------------------------------------
    # Calibration
    #-------------------------------------------------
    
    include "CalibTracker/Configuration/data/SiPixel_FakeConditions.cff"
    include "CalibTracker/Configuration/data/Tracker_FrontierConditions_TIF_21X.cff"
    
    service = UpdaterService {}

    #-------------------------------------------------
    #-------------------------------------------------
    # DQM
    #-------------------------------------------------
    #-------------------------------------------------
    
    include "DQM/SiStripMonitorClient/data/SiStripDQMTier0GlobalRun.cff"
 
    include "DQM/SiStripMonitorTrack/data/SiStripMonitorTrack_WithReco.cff"
    replace SiStripMonitorTrack.TrackProducer= "ctfWithMaterialTracksP5"
    replace SiStripMonitorTrack.TrackLabel= ""
    replace SiStripMonitorTrack.OutputMEsInRootFile = true
    replace SiStripMonitorTrack.OutputFileName= "/tmp/TEST_RealData.root"
    replace SiStripMonitorTrack.Cluster_src = siStripClusters
    replace SiStripMonitorTrack.Mod_On = 0
    replace SiStripMonitorTrack.OffHisto_On = true    
    
    #-------------------------------------------------
    # Performance Checks
    #-------------------------------------------------
    
    # memory
    service = SimpleMemoryCheck {
	untracked int32 ignoreTotal = 0
    }
    
    # timing
    service = Timing {}
    
    #-------------------------------------------------
    # In-/Output
    #-------------------------------------------------
    
    # input
    source = PoolSource {
	untracked vstring fileNames = {
	    'rfio:/castor/cern.ch/cms/store/TAC/TIBTOB/edm_2007_03_07/tif.00006215.A.testStorageManager_0.0.root'
	}
    }
    untracked PSet maxEvents = {
	untracked int32 input = 100
    }
    
    # output
    module out = PoolOutputModule {
	untracked string fileName = "TESTReal.root"
	untracked PSet options = {
	    untracked bool wantSummary = true
	}
    }
    
    #-------------------------------------------------
    # General Options
    #-------------------------------------------------
    
    untracked PSet options = {
	untracked bool wantSummary = true 
    }
    
    #-------------------------------------------------
    # Scheduling
    #-------------------------------------------------
    replace SiStripMonitorTrack.FolderName = "SiStrip/Tracks"
    module dumpinfo = EventContentAnalyzer {}
    
    path p = {
	DQMSiStripMonitorTrack_Real,
#	TrackMon_ckf,
	dumpinfo
    } 
    
    module print = AsciiOutputModule {}
    endpath pout = { out, print}
    
  
}

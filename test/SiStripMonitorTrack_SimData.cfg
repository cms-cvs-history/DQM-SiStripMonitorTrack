process DQMOnlineSimData = {
    
    service = MessageLogger {
	untracked vstring destinations = { "debug.txt" }
	untracked PSet debug.txt = { untracked string threshold = "DEBUG" }
	#untracked vstring debugModules   = {"SiStripMonitorTrack","SiStripClusterInfo"}
	untracked vstring debugModules   = {"SiStripMonitorTrack"}
    }
    
    #-------------------------------------------------
    ## MAGNETIC FIELD
    #-------------------------------------------------
    #  include "Geometry/CMSCommonData/data/cmsMagneticFieldXML.cfi"
    include "MagneticField/Engine/data/uniformMagneticField.cfi"
    replace UniformMagneticFieldESProducer.ZFieldInTesla = 0.0
    es_prefer = UniformMagneticFieldESProducer{}
    
    #-------------------------------------------------
    ## GEOMETRY
    #-------------------------------------------------
    
    # CMS Geometry
    include "Configuration/StandardSequences/data/Geometry.cff"
    
    #-------------------------------------------------
    ## CALIBRATION
    #-------------------------------------------------
    include "CalibTracker/Configuration/data/Tracker_FakeConditions.cff"
    
    #If Frontier is used in xdaq environment use the following service
    ##    service = SiteLocalConfigService {}
    
    #--------------------------
    #### DQM
    #--------------------------
    # DQM services
    include "DQMServices/Core/data/DQM.cfg"
    
    #--------------------------
    #### Quality Tester ####    
    #--------------------------    

    module qTester = QualityTester {
	untracked FileInPath qtList = "DQM/SiStripMonitorTrack/data/sistrip_qualitytest_track.xml"
	untracked bool getQualityTestsFromFile = true	        
	untracked int32 prescaleFactor = 1
    }    
        
    #-------------------------------------
    #### SiStripMonitorTrack + Scheduling
    #-------------------------------------
    replace TrackRefitter.TrajectoryInEvent = true
    # Standard Monitoring
    include "DQM/SiStripMonitorTrack/data/SiStripMonitorTrack_StandAlone.cff"
    path p = {DQMSiStripMonitorTrack_Sim, qTester}
    # Monitoring with Eta Function from SiStripRawDigi
    #include "DQM/SiStripMonitorTrack/data/SiStripMonitorTrack_RawStandAlone.cff"
    #path p = {DQMSiStripMonitorTrack_RawSim, qTester}
    
    # If we need to store the event
    #    module myevt = PoolOutputModule 
    #    { 
    #	untracked string fileName = "prova.root"
    #    }
    #    endpath outpath = {myevt}
    
    
    module print = AsciiOutputModule {}
    endpath ep = { print }
    
    
    service = AdaptorConfig {}
    
    source = PoolSource { 
	untracked vstring fileNames = {
	    '/store/relval/2008/6/6/RelVal-RelValSingleMuPt1-1212531852-IDEAL_V1-2nd-02/0000/74A33D36-E933-DD11-BC9E-001617E30F56.root'
	}
	#untracked uint32   firstRun =  6
	#untracked uint32 firstEvent = 15
    }
    untracked PSet maxEvents = {untracked int32 input = 100}
    
}

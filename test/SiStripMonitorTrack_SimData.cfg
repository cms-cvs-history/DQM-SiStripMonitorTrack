process DQMOnlineSimData = {
    
    service = MessageLogger {
	untracked vstring destinations = { "debug.txt" }
	untracked PSet debug.txt = { untracked string threshold = "DEBUG" }
	untracked vstring debugModules   = {"SiStripMonitorTrack"}
    }
    
    #-------------------------------------------------
    ## MAGNETIC FIELD
    #-------------------------------------------------
    #  include "Geometry/CMSCommonData/data/cmsMagneticFieldXML.cfi"
    include "MagneticField/Engine/data/uniformMagneticField.cfi"
    replace UniformMagneticFieldESProducer.ZFieldInTesla = 0.0
    es_prefer = UniformMagneticFieldESProducer{}

    #-------------------------------------------------
    ## GEOMETRY
    #-------------------------------------------------
    
    # tracker geometry
    include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
    
    # tracker numbering
    include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
    
    # cms geometry
    include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
    
    #-------------------------------------------------
    ## CALIBRATION
    #-------------------------------------------------
    
    include "CalibTracker/Configuration/data/Tracker_FakeConditions.cff"

    #If Frontier is used in xdaq environment use the following service
    ##    service = SiteLocalConfigService {}
    
    #--------------------------
    #### DQM
    #--------------------------
    # DQM services
    include "DQMServices/Core/data/DQM.cfg"
    
    #--------------------------
    #### SiStripMonitorTrack
    #--------------------------

    include "DQM/SiStripMonitorTrack/data/SiStripMonitorTrack_StandAlone.cff"
    replace SiStripMonitorTrack.TrackProducer= "TrackRefitter"
    replace SiStripMonitorTrack.TrackLabel= ""
    replace SiStripMonitorTrack.OutputMEsInRootFile = true
    replace SiStripMonitorTrack.OutputFileName= "testSim.root"
    replace SiStripMonitorTrack.Cluster_src = siStripClusters
    replace SiStripMonitorTrack.Mod_On = false
    replace SiStripMonitorTrack.OffHisto_On = false

    replace TrackRefitter.TrajectoryInEvent = true

    #----------------------------
    #### Scheduling
    #-----------------------------
    
    
    path p = {DQMSiStripMonitorTrack_Sim}



    module print = AsciiOutputModule {}
    endpath ep = { print }


    service = AdaptorConfig {}

    source = PoolSource { 
      untracked vstring fileNames = {
	    '/store/relval/2008/6/6/RelVal-RelValSingleMuPt1-1212531852-IDEAL_V1-2nd-02/0000/74A33D36-E933-DD11-BC9E-001617E30F56.root'
      }
    }
    untracked PSet maxEvents = {untracked int32 input = 10}
}
